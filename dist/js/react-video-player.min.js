!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactVideoPlayer=e()}}(function(){var e;return function t(e,r,a){function o(i,s){if(!r[i]){if(!e[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(n)return n(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){var r=e[i][1][t];return o(r?r:t)},u,u.exports,t,e,r,a)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(t,r,a){!function(){"use strict";function t(){for(var e="",r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e+=" "+a;else if(Array.isArray(a))e+=" "+t.apply(null,a);else if("object"===o)for(var n in a)a.hasOwnProperty(n)&&a[n]&&(e+=" "+n)}}return e.substr(1)}"undefined"!=typeof r&&r.exports?r.exports=t:"function"==typeof e&&"object"==typeof e.amd&&e.amd?e(function(){return t}):window.classNames=t}()},{}],2:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function(e,t,r){for(var a=!0;a;){var o=e,n=t,i=r;s=d=l=void 0,a=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var d=Object.getPrototypeOf(o);if(null===d)return void 0;e=d,t=n,r=i,a=!0}},l=e("react/addons"),d=a(l),u=e("classnames"),c=a(u),f=d["default"].addons.CSSTransitionGroup,v=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={videoWidth:0,videoHeight:0,canPlay:!1,hideControls:!0,hasError:!1,progress:"0%",currentTime:"0:00",duration:"0:00"},this.hideControlsTimeout=null,this.bufferInterval=null,this.videoEvents=["error","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","play","paused","emptied","stalled","waiting","durationchange"]}return n(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setVideoSize.bind(this)),this.setVideoSize(),this.addVideoEvents()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setVideoSize.bind(this)),this.removeVideoEvents()}},{key:"setVideoSize",value:function(e){var t=d["default"].findDOMNode(this.refs.rvpVideoWapper),r=t.offsetWidth,a=t.offsetHeight;this.setState({videoWidth:r,videoHeight:a})}},{key:"mouseenterHandler",value:function(e){this.hideControlsTimeout&&window.clearTimeout(this.hideControlsTimeout),this.state.canPlay&&this.setState({hideControls:!1})}},{key:"mouseleaveHandler",value:function(e){var t=this,r=d["default"].findDOMNode(this.refs.rvpVideoElement);this.hideControlsTimeout&&window.clearTimeout(this.hideControlsTimeout),!r.paused&&this.state.canPlay&&(this.hideControlsTimeout=window.setTimeout(function(){t.setState({hideControls:!0})},1e3))}},{key:"addVideoEvents",value:function(){var e=this,t=d["default"].findDOMNode(this.refs.rvpVideoElement);this.videoEvents.map(function(r){var a=r+"Callback";"function"==typeof e[a]&&t.addEventListener(r,e[a].bind(e))})}},{key:"removeVideoEvents",value:function(){var e=this,t=d["default"].findDOMNode(this.refs.rvpVideoElement);this.videoEvents.map(function(r){var a=r+"Callback";"function"==typeof e[a]&&t.removeEventListener(r,e[a])})}},{key:"errorCallback",value:function(e){var t=!1;switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t="You aborted the video playback.";break;case e.target.error.MEDIA_ERR_NETWORK:t="A network error caused the video download to fail part-way.";break;case e.target.error.MEDIA_ERR_DECODE:t="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:t="An unknown error occurred."}this.setState({canPlay:!1,hideControls:!0,hasError:t})}},{key:"canplayCallback",value:function(e){this.setState({canPlay:!0,hideControls:!1,hasError:!1})}},{key:"timeupdateCallback",value:function(e){var t=e.target.currentTime.toFixed(1),r=e.target.duration.toFixed(1),a=t/r*100,o=Math.floor(e.target.currentTime/60),n=Math.floor(e.target.currentTime%60);n=n>=10?n:"0"+n,this.state.hideControls||this.setState({progress:a+"%",currentTime:o+":"+n})}},{key:"loadstartCallback",value:function(e){this.bufferInterval=window.setInterval(this.watchBuffer.bind(this,e.target),500)}},{key:"watchBuffer",value:function(e){if(e.readyState){var t=e.duration,r=e.buffered.end(0);r>=t&&window.clearInterval(this.bufferInterval)}}},{key:"render",value:function(){var e={width:this.state.videoWidth,height:this.state.videoHeight},t=c["default"]("rvp",{"rvp--show-controls":!this.state.hideControls});return d["default"].createElement(f,{className:t,transitionName:"rvp",transitionAppear:!0,component:"div"},d["default"].createElement("div",{className:"rvp-inner",onMouseEnter:this.mouseenterHandler.bind(this),onMouseLeave:this.mouseleaveHandler.bind(this)},d["default"].createElement("div",{ref:"rvpVideoWapper",className:"rvp-video"},d["default"].createElement("video",{ref:"rvpVideoElement",className:"rvp-video__el",src:"http://media.w3.org/2010/05/video/movie_300.mp4",style:e,preload:"auto",onTimeupdate:function(e){return console.log(e)}})),d["default"].createElement("div",{className:"rvp-gradient"}),d["default"].createElement("div",{className:"rvp-progress"},d["default"].createElement("div",{className:"rvp-progress__track"}),d["default"].createElement("div",{className:"rvp-progress__loaded"}),d["default"].createElement("div",{className:"rvp-progress__handle"})),d["default"].createElement("div",{className:"rvp-control"},d["default"].createElement("button",{className:"rvp-btn"}),d["default"].createElement("div",{className:"rvp-time"},d["default"].createElement("div",{className:"rvp-time__current"},this.state.currentTime),d["default"].createElement("div",{className:"rvp-time__duration"},this.state.duration)),d["default"].createElement("div",{className:"rvp-volume"},d["default"].createElement("div",{className:"rvp-volume-icon"}),d["default"].createElement("div",{className:"rvp-volume-slider"},d["default"].createElement("div",{className:"rvp-volume-slider__track"}),d["default"].createElement("div",{className:"rvp-volume-slider__handle"}))),d["default"].createElement("button",{className:"rvp-btn"}))))}}]),t}(d["default"].Component);r["default"]=v,t.exports=r["default"]},{classnames:1,"react/addons":3}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=window.React,t.exports=r["default"]},{}]},{},[2])(2)});